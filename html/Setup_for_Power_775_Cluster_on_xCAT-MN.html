<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
</head>
<body>
<div id="TOC">
<ul>
<li><a href="#switch-to-the-db2-database">Switch to the DB2 database</a></li>
<li><a href="#cluster-hardware-setup-and-discovery">Cluster Hardware Setup and Discovery</a></li>
<li><a href="#firmware-updates-for-system-p-hardware">Firmware updates for System P Hardware</a></li>
<li><a href="#install-and-configure-loadleveler-resource-manager-on-the-management-node">Install and Configure LoadLeveler Resource manager on the Management Node</a><ul>
<li><a href="#install-loadleveler-on-your-xcat-management-node"><strong>Install LoadLeveler on your xCAT Management Node</strong></a></li>
</ul></li>
<li><a href="#implementation-with-teal-on-xcat-mn-for-power-775-cluster">Implementation with TEAL on xCAT MN for Power 775 cluster</a><ul>
<li><a href="#install-teal-on-your-xcat-linux-management-node"><strong>Install Teal on your xCAT Linux Management Node</strong></a></li>
<li><a href="#install-teal-on-your-xcat-aix-management-node"><strong>Install Teal on your xCAT AIX Management Node</strong></a></li>
</ul></li>
<li><a href="#implementation-with-isnm-and-hfi-for-power-775-cluster">Implementation with ISNM and HFI for Power 775 Cluster</a><ul>
<li><a href="#check-that-your-xcat-tables-are-populated-before-installing-isnm"><strong>Check that your xCAT Tables are populated before installing ISNM</strong></a></li>
<li><a href="#install-and-configure-isnm-on-your-linux-management-node"><strong>Install and configure ISNM on your Linux Management Node</strong></a></li>
<li><a href="#install-and-configure-isnm-on-your-aix-management-node"><strong>Install and configure ISNM on your AIX Management Node</strong></a></li>
</ul></li>
<li><a href="#setup-of-gpfs-io-server-nodes">Setup of GPFS I/O Server nodes</a></li>
<li><a href="#creation-of-power-775-octants-in-xcat-db">Creation of Power 775 Octants in xCAT DB</a></li>
<li><a href="#creation-of-system-p-lpars-using-hmc">Creation of System P LPARs using HMC</a><ul>
<li><a href="#define-the-hmcs-as-xcat-nodes"><strong>Define the HMCs as xCAT nodes</strong></a></li>
<li><a href="#discover-the-lpars-managed-by-the-hmcs"><strong>Discover the LPARs managed by the HMCs</strong></a></li>
</ul></li>
</ul>
</div>
<p><!-- START doctoc generated TOC please keep comment here to allow auto update --> <!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE --> Table of Contents</p>
<ul>
<li><a href="#switch-to-the-db2-database">Switch to the DB2 database</a></li>
<li><a href="#cluster-hardware-setup-and-discovery">Cluster Hardware Setup and Discovery</a></li>
<li><a href="#firmware-updates-for-system-p-hardware">Firmware updates for System P Hardware</a></li>
<li><a href="#install-and-configure-loadleveler-resource-manager-on-the-management-node">Install and Configure LoadLeveler Resource manager on the Management Node</a></li>
<li><a href="#install-loadleveler-on-your-xcat-management-node"><strong>Install LoadLeveler on your xCAT Management Node</strong></a></li>
<li><a href="#implementation-with-teal-on-xcat-mn-for-power-775-cluster">Implementation with TEAL on xCAT MN for Power 775 cluster</a></li>
<li><a href="#install-teal-on-your-xcat-linux-management-node"><strong>Install Teal on your xCAT Linux Management Node</strong></a></li>
<li><a href="#install-teal-on-your-xcat-aix-management-node"><strong>Install Teal on your xCAT AIX Management Node</strong></a></li>
<li><a href="#implementation-with-isnm-and-hfi-for-power-775-cluster">Implementation with ISNM and HFI for Power 775 Cluster</a></li>
<li><a href="#check-that-your-xcat-tables-are-populated-before-installing-isnm"><strong>Check that your xCAT Tables are populated before installing ISNM</strong></a></li>
<li><a href="#install-and-configure-isnm-on-your-linux-management-node"><strong>Install and configure ISNM on your Linux Management Node</strong></a></li>
<li><a href="#install-and-configure-isnm-on-your-aix-management-node"><strong>Install and configure ISNM on your AIX Management Node</strong></a></li>
<li><a href="#setup-of-gpfs-io-server-nodes">Setup of GPFS I/O Server nodes</a></li>
<li><a href="#creation-of-power-775-octants-in-xcat-db">Creation of Power 775 Octants in xCAT DB</a></li>
<li><a href="#creation-of-system-p-lpars-using-hmc">Creation of System P LPARs using HMC</a></li>
<li><a href="#define-the-hmcs-as-xcat-nodes"><strong>Define the HMCs as xCAT nodes</strong></a></li>
<li><a href="#discover-the-lpars-managed-by-the-hmcs"><strong>Discover the LPARs managed by the HMCs</strong></a></li>
</ul>
<!-- END doctoc generated TOC please keep comment here to allow auto update -->

<p>If not using Power 775 Clusters, skip this section.</p>
<p>This section describes the additional setup required for the Power 775 support. This includes the installation of Teal, ISNM, and LoadL on the xCAT management node.</p>
<pre><code> **NOTE**: 
 This information will probably be a pointer to some HPC integration documentation . 
 We also may want to provide an introduction about Power 775 Direct Management (DM) and energy management. 
 We could place information on where to locate the packages, how they are installed, and used with System P hardware. </code></pre>
<h3 id="switch-to-the-db2-database"><a href="#TOC">Switch to the DB2 database</a></h3>
<p>The xCAT Power 775 cluster support requires that you use the DB2 database.</p>
<p>Follow the xCAT instructions on setting up the DB2 environment on the xCAT management node. [Setting_Up_DB2_as_the_xCAT_DB]</p>
<h3 id="cluster-hardware-setup-and-discovery"><a href="#TOC">Cluster Hardware Setup and Discovery</a></h3>
<p>This is a new section that provides a pointer to our System P Management Guide. It provides information on how to connect the System P hardware Frames, Cecs, and HMCs to the xCAT MN. It explains how to setup DHCP for the HW Service networks, the HW discovery for HMC, Frame/BPA, and CEC/FSP. and how to setup the xCAT data base with hardware node objects. [XCAT_System_p_Hardware_Management]</p>
<h3 id="firmware-updates-for-system-p-hardware"><a href="#TOC">Firmware updates for System P Hardware</a></h3>
<p>This should discuss how to locate the GFW images from the System P IBM web site. It can provide data about the xCAT rflash command and how it is used to update the GFW for Power 775 clusters using Direct Management interface from the xCAT MN.</p>
<h3 id="install-and-configure-loadleveler-resource-manager-on-the-management-node"><a href="#TOC">Install and Configure LoadLeveler Resource manager on the Management Node</a></h3>
<p>This should be pointer to the LoadL documentation being used to setup LoadL on the xCAT MN</p>
<p>Copy the LoadLeveler packages from your distribution media onto the xCAT management node (MN). Suggested target location to put the packages on the xCAT MN:</p>
<pre><code>/install/post/otherpkgs/&amp;lt;os&amp;gt;/&amp;lt;arch&amp;gt;/loadl</code></pre>
<p>Note: LoadLeveler on Linux requires a special Java rpm to run its license acceptance script. The correct version of this rpm is identified in the LoadLeveler product documentation (at the time of this writing, the rpm was IBMJava2-142-ppc64-JRE-1.4.2-5.0.ppc64.rpm, but please verify with the LL documentation). Ensure the Java rpm is included in the loadl otherpkgs directory.</p>
<p>Following the LoadLeveler Installation Guide, create the loadl group and userid: On Linux:</p>
<pre><code>  groupadd loadl
  useradd -g loadl loadl</code></pre>
<p>On AIX:</p>
<pre><code>  mkgroup -a loadl
  mkuser pgrp=loadl groups=loadl home=/&amp;lt;user_home&amp;gt;/loadl loadl</code></pre>
<h4 id="install-loadleveler-on-your-xcat-management-node"><a href="#TOC"><strong>Install LoadLeveler on your xCAT Management Node</strong></a></h4>
<p>You will need to install LoadLeveler resource manager on your xCAT management node working with Power 775 clusters.</p>
<p>On Linux:</p>
<p>Download the LoadLeveler rpms to the xCAT MN and place in a directory such as</p>
<pre><code>/install/post/otherpkgs/&amp;lt;os&amp;gt;/&amp;lt;arch&amp;gt;/loadl </code></pre>
<p>Install the LoadLeveler Resource Manager and license rpm:</p>
<pre><code>cd /install/post/otherpkgs/&amp;lt;os&amp;gt;/&amp;lt;arch&amp;gt;/loadl
rpm -Uvh ./LoadL-resmgr-full*.rpm
rpm -Uvh ./LoadL-full-license*.rpm </code></pre>
<p>Accept the LoadLeveler license and install the product rpms:</p>
<pre><code> /opt/ibmll/LoadL/sbin/install_ll -y -d .</code></pre>
<p>On AIX: Download the LoadLeveler packages to the xCAT MN and place in a directory such as</p>
<pre><code>/install/post/otherpkgs/aix/ppc64/loadl </code></pre>
<p>Install the LoadLeveler Resource Manager:</p>
<pre><code>cd /install/post/otherpkgs/aix/ppc64/loadl
inutoc .
installp -aXgYd . LoadL</code></pre>
<p>Please reference the LoadLeveler Installation Guide, to provide more detail about LoadLeveler installation.</p>
<p>This should be pointer to the LoadL documentation to configure LoadL on the xCAT cluster.</p>
<h3 id="implementation-with-teal-on-xcat-mn-for-power-775-cluster"><a href="#TOC">Implementation with TEAL on xCAT MN for Power 775 cluster</a></h3>
<p>xCAT will provide only minimal instructions here for installing the TEAL product. You will need to refer to the TEAL product documentation for full installation and prerequisite details, and for configuration instructions to interface with other products to gather and process monitoring data. Note that the Teal product does have some prerequisites on the LoadL resource manager.</p>
<p>For Power 775 clusters you need to install the Teal packages on your xCAT management node.</p>
<h4 id="install-teal-on-your-xcat-linux-management-node"><a href="#TOC"><strong>Install Teal on your xCAT Linux Management Node</strong></a></h4>
<p>Download the Teal dependent rpm pyodbc-2.1.7-1.ppc64.rpm and teal rpm packages, and place them on your xCAT MN in a directory such as:</p>
<pre><code>/install/post/otherpkgs/&amp;lt;os&amp;gt;/&amp;lt;arch&amp;gt;/teal</code></pre>
<p>The current RH6 Linux Teal packages are:</p>
<pre><code>teal-base-1.1.0.0-1.ppc64.rpm 
teal-ll-1.1.0.0-1.ppc64.rpm    
teal-sfp-1.1.0.0-1.ppc64.rpm
teal-isnm-1.1.0.0-1.ppc64.rpm 
teal-pnsd-1.1.0.0-1.ppc64.rpm  </code></pre>
<p>To install:</p>
<pre><code>cd /install/post/otherpkgs/&amp;lt;os&amp;gt;/&amp;lt;arch&amp;gt;/teal
rpm -Uvh pyodbc-2.1.7-1.ppc64.rpm
rpm -Uvh ./teal*.rpm</code></pre>
<h4 id="install-teal-on-your-xcat-aix-management-node"><a href="#TOC"><strong>Install Teal on your xCAT AIX Management Node</strong></a></h4>
<p>Download the Teal dependent rpm packages, and the Teal installp packages on your xCAT MN. Place the packages in a directory such as /install/post/otherpkgs/aix/ppc64/teal.</p>
<p>The Teal dep packages for AIX71B are:</p>
<pre><code>gdbm-1.8.3-5.aix5.2.ppc.rpm   
readline-4.3-2.aix5.1.ppc.rpm
pyodbc-2.1.7-1.aix6.1.ppc.rpm   ***  this is being added to xCAT deps packaging
python-2.6.2-2.aix5.3.ppc.rpm</code></pre>
<p>To install:</p>
<pre><code>rpm -Uvh ./gdbm-1.8.3-5.aix5.2* gdbm-1.8.3-5.aix5.2* pyodbc-2.1.7-1.aix6.1*
python-2.6.2-2.aix5.3</code></pre>
<p>The Teal installp packages with AIX are:</p>
<pre><code>teal.base   -used with base Teal support   
teal.isnm    -used with isnm Teal
teal.ll           -used with LL teal 
teal.pnsd   -used with PE  pnsd teal 
teal.sfp       -used with HMC Service focal point </code></pre>
<p>To install:</p>
<pre><code>cd /install/post/otherpkgs/aix/ppc64/teal
 inutoc .
installp -aXgd . teal </code></pre>
<p>This should be pointer to Teal documentation on how to setup Teal for a System P cluster.</p>
<p>If you are using TEAL with the GPFS connector feature, you will need to install the teal-gpfs-sn package, which is shipped with the TEAL product, onto one of your xCAT service nodes designated as your GPFS collector node. Follow the xCAT instructions for doing this included in setting up GPFS on your cluster:</p>
<ul>
<li>[Setting_up_GPFS_in_a_Stateful_Cluster]</li>
<li>[Setting_up_GPFS_in_a_Statelite_or_Stateless_Cluster]</li>
</ul>
<h3 id="implementation-with-isnm-and-hfi-for-power-775-cluster"><a href="#TOC">Implementation with ISNM and HFI for Power 775 Cluster</a></h3>
<p>This should be pointer to the ISNM documentation on how to work with HFI-ISR network for Power 775 cluster. This would be a good place to describe how the HFI is being used with xCAT. We can provide where the admin can locate the HFI device drivers, and what xCAT packages are being used with the HFI.</p>
<p>If you are only trying to boot over hfi from one octant to another in the same cec (i.e. your mgmt node or service node is located in the cec), then you don't need ISNM/cnm. The time you need cnm is if you are trying to boot an octant in one cec from a MN/SN in another cec (i.e. cross-cec hfi traffic).</p>
<h4 id="check-that-your-xcat-tables-are-populated-before-installing-isnm"><a href="#TOC"><strong>Check that your xCAT Tables are populated before installing ISNM</strong></a></h4>
<p>ppcdirect -- contains user name and passwords to the hardware for xCAT to communicate with</p>
<pre><code># tabdump ppcdirect
#hcp,username,password,comments,disable
&quot;f07c00bpca_a&quot;,&quot;admin&quot;,&quot;admin&quot;,,
&quot;f07c07fsp1_a&quot;,&quot;admin&quot;,&quot;abc123&quot;,,
&quot;f07c07fsp1_a&quot;,&quot;general&quot;,&quot;abc123&quot;,,
&quot;f07c07fsp1_a&quot;,&quot;HMC&quot;,&quot;abc123&quot;,,</code></pre>
<p>nodelist -- nodes defined in the cluster</p>
<pre><code># tabdump nodelist
#node,groups,status,statustime,appstatus,appstatustime,primarysn,hidden,comments,disable
&quot;f07c00bpca_a&quot;,&quot;bpa,all&quot;,,,,,,,,
&quot;f07c07fsp1_a&quot;,&quot;fsp,all&quot;,,,,,,,,</code></pre>
<p>ppc - nodes with more information i.e. supernode/drawer</p>
<pre><code># tabdump ppc
#node,hcp,id,pprofile,parent,nodetype,supernode,comments,disable
&quot;f07c00bpca_a&quot;,&quot;f07c00bpca_a&quot;,&quot;7&quot;,,,&quot;bpa&quot;,,,
&quot;f07c07fsp1_a&quot;,&quot;f07c07fsp1_a&quot;,&quot;7&quot;,,&quot;f07c00bpca_a&quot;,&quot;fsp&quot;,&quot;17,0&quot;,,</code></pre>
<h4 id="install-and-configure-isnm-on-your-linux-management-node"><a href="#TOC"><strong>Install and configure ISNM on your Linux Management Node</strong></a></h4>
<p>You will need to install CNM ISNM packages on your xCAT MN working with Power 775 clusters.</p>
<p>Download the ISNM rpms to the xCAT MN and place in a directory such as</p>
<pre><code>/install/post/otherpkgs/&amp;lt;os&amp;gt;/&amp;lt;arch&amp;gt;/isnm</code></pre>
<p>Note: ISNM requires 32 bit rpms for the unixODBC installed on xCAT MN. For RHEL 6 (ppc64): You will need to validate that both the pam-1.1.1-4.el6.ppc64 and the pam-1.1.1-4.el6.ppc rpm packages are installed on the xCAT MN. The RH6 yum package may install or update the 64 bit packages only. You manually need to install the 32 bit pam-1.1.1-4.el6.ppc rpm package.</p>
<p>You then need to validate that both unixODBC-2.2.14-11.el6.ppc64 and unixODBC-2.2.14-11.el6.ppc rpms are installed on the xCAT. Make sure that unixODBC-2.2.14-11.el6.ppc64 rpm is installed first through yum, and then manually install the 32 bit unixODBC-2.2.14-11.el6.ppc rpm. Some files such as isql, odbc_config, and odbcinst, will be overwritten by the second rpm install.</p>
<p>There is one hdwr_svr lib that is not in the package that must be manually placed in /usr/lib on the Managment Node. ( This will be fixed soon). Right now the lib is in the following backing tree:</p>
<pre><code>/project/spreldenali/build/rdenali1107b/export/ppc64_redhat_6.0.0/usr/lib/libnetchmcx.so


cp -p libnetchmcx.so /usr/lib</code></pre>
<p><strong>Install the hardware server rpms:</strong></p>
<pre><code>cd /install/post/otherpkgs/&amp;lt;os&amp;gt;/&amp;lt;arch&amp;gt;/isnm
rpm -Uvh ./ISNM-hdwr_svr*.rpm </code></pre>
<p>Have xCAT setup connection from hdwr_svr to drawers (populate HmcNetConfig). This will create /var/opt/isnm/hdwr_svr/data/HmcNetConfig and start hdwr_svr.</p>
<pre><code>mkhwconn &amp;lt;defined FSP name in nodelist table&amp;gt; -T fnm</code></pre>
<p><strong>Verify Hdwr_svr connection :</strong></p>
<pre><code>cd /var/opt/isnm/hdwr_svr/log
# cat hdwr_svr.dump | grep -A 10 -i &quot;FspConnectionRecord&quot;
FspConnectionRecord vport: 0x00000003
 hostname: &#39;40.7.5.1&#39;
 management_type: 1
 mtms: &#39;9125-F2C*P7IH121&#39;
 slot: A
 ipv4_address: &#39;40.7.5.1&#39;
 ip_connection: c 0x28070501 m 0x28070501
  0x28070501
  0x0
  client_number: 11
  connection_state: 0x0 - LINE_UP</code></pre>
<p><strong>Install TEAL: CNMD requires it's libraries:</strong></p>
<pre><code>See
[Setup_for_P7_IH_Cluster_on_xCAT/MN#Implementation_with_TEAL_on_xCAT_MN_for_P7_IH_cluster]</code></pre>
<p><strong>Install CNMD rpms:</strong></p>
<pre><code>cd /install/post/otherpkgs/&amp;lt;os&amp;gt;/&amp;lt;arch&amp;gt;/isnm
rpm -Uvh ./ISNM-cnm*.rpm</code></pre>
<p><strong>Start CNMD:</strong></p>
<pre><code>/opt/isnm/cnm/bin/startCNMD &amp;</code></pre>
<p><strong>Verify CNMD -- list drawers and state</strong></p>
<pre><code># nmcmd -D -D****
Frame 7  Cage 7 Supernode 17 Drawer 0 RUNTIME





# rpm -qa | grep ISNM
ISNM-cnm-RHEL-PPC-1.0.0.0-1.ppc64
ISNM-hdwr_svr-RHEL-PPC-1.0.0.0-1.ppc64</code></pre>
<p><strong>To uninstall:</strong></p>
<pre><code># rpm -e ISNM-hdwr_svr-RHEL-PPC-1.0.0.0-1.ppc64 ISNM-cnm-RHEL-PPC-1.0.0.0-1.ppc64
# rpm -qa | grep ISNM
#</code></pre>
<h4 id="install-and-configure-isnm-on-your-aix-management-node"><a href="#TOC"><strong>Install and configure ISNM on your AIX Management Node</strong></a></h4>
<p>Download the ISNM packages to the xCAT MN and place them in a directory such as</p>
<pre><code>/install/post/otherpkgs/aix/ppc64/isnm</code></pre>
<p>The following packages will be installed:</p>
<pre><code>isnm.cnm      
isnm.hdwr_svr</code></pre>
<p>Install the hdwr_svr package:</p>
<pre><code>cd /install/post/otherpkgs/aix/ppc64/isnm
.inutoc
installp -acXYFd . isnm.hdwr_svr</code></pre>
<p>Have xCAT setup connection from hdwr_svr to drawers (populate HmcNetConfig). This will create /var/opt/isnm/hdwr_svr/data/HmcNetConfig and start hdwr_svr.</p>
<pre><code>mkhwconn &amp;lt;defined FSP name in nodelist table&amp;gt; -T fnm</code></pre>
<p><strong>Verify Hdwr_svr connection :</strong></p>
<pre><code>cd /var/opt/isnm/hdwr_svr/log
# cat hdwr_svr.dump | grep -A 10 -i &quot;FspConnectionRecord&quot;
FspConnectionRecord vport: 0x00000003
 hostname: &#39;40.7.5.1&#39;
 management_type: 1
 mtms: &#39;9125-F2C*P7IH121&#39;
 slot: A
 ipv4_address: &#39;40.7.5.1&#39;
 ip_connection: c 0x28070501 m 0x28070501
  0x28070501
  0x0
  client_number: 11
  connection_state: 0x0 - LINE_UP</code></pre>
<p><strong>Install TEAL: CNMD requires it's libraries:</strong></p>
<pre><code>See
[Setup_for_P7_IH_Cluster_on_xCAT/MN#Implementation_with_TEAL_on_xCAT_MN_for_P7_IH_cluster]</code></pre>
<p><strong>Install CNMD:</strong></p>
<pre><code>cd /install/post/otherpkgs/aix/ppc64/isnm
installp -acXYFd . isnm.cnm</code></pre>
<p><strong>Start CNMD:</strong></p>
<pre><code>/opt/isnm/cnm/bin/chnwm -a</code></pre>
<p><strong>Verify CNMD -- list drawers and state</strong></p>
<pre><code># nmcmd -D -D
Frame 7  Cage 7 Supernode 17 Drawer 0 RUNTIME</code></pre>
<h3 id="setup-of-gpfs-io-server-nodes"><a href="#TOC">Setup of GPFS I/O Server nodes</a></h3>
<p>This is pointer to the GPFS documentation to setup GPFS I/O servers on the Power 775 cluster.</p>
<h3 id="creation-of-power-775-octants-in-xcat-db"><a href="#TOC">Creation of Power 775 Octants in xCAT DB</a></h3>
<p>This is a new section in xCAT 2.6 that describes the implementation to create the Power 775 Octants/LPARs used with a Power 775 cluster. It will describe the default Power 775 systems configuration, and will describe which Power 775 octants are designated as xCAT service nodes. This section should provide enough detail for the xCAT administrator to execute xCAT commands for the Power 775 CECs. We should try and provide the commands and should provide sample files that can be referenced.</p>
<p>At this point we should have all the xCAT Service nodes and compute nodes should be defined in the xCAT DB.</p>
<h3 id="creation-of-system-p-lpars-using-hmc"><a href="#TOC">Creation of System P LPARs using HMC</a></h3>
<p>This section explains the xCAT implementation working with HMCs which has been supported with xCAT 2.4. These steps below implement where the HMC has created the LPARs.</p>
<h4 id="define-the-hmcs-as-xcat-nodes"><a href="#TOC"><strong>Define the HMCs as xCAT nodes</strong></a></h4>
<p>The xCAT hardware control support requires that the hardware control point for the nodes also be defined as a cluster node.</p>
<p>The following example will create an xCAT node definition for an HMC with a host name of &quot;<em>hmc01</em>&quot;. The <em>groups, nodetype, hwtype, mgt, username</em>, and <em>password</em> attributes must be set.</p>
<pre><code>_**mkdef -t node -o hmc01 groups=&quot;all&quot; nodetype=ppc hwtype=hmc mgt=hmc username=hscroot password=abc123**_</code></pre>
<h4 id="discover-the-lpars-managed-by-the-hmcs"><a href="#TOC"><strong>Discover the LPARs managed by the HMCs</strong></a></h4>
<p>This step assumes that the partitions are already created using the standard HMC interfaces.</p>
<p>Use the <strong>rscan</strong> command to gather the LPAR information. This command can be used to display the LPAR information in several formats and can also write the LPAR information directly to the xCAT database. In this example we will use the &quot;-z&quot; option to create a stanza file that contains the information gathered by <strong>rscan</strong> as well as some default values that could be used for the node definitions.</p>
<p>To write the stanza format output of <strong>rscan</strong> to a file called &quot;<em>mystanzafile&quot;</em> run the following command.</p>
<pre><code>_**rscan -z hmc01 &amp;gt; mystanzafile**_</code></pre>
<p>The file will contain stanzas for all the LPARs that have been configured as well as some additional information that must also be defined in the xCAT database. It is not necessary to modify the non-LPAR stanzas in any way.</p>
<p>This file can then be checked and modified as needed. For example you may need to add a different name for the node definition or add additional attributes and values.</p>
<p>Since we are using service nodes there are several values that **must be set **for the node definitions. **You can set these values later, after the nodes have been defined, or you can modify the stanzas to include the values now. **(If you have many nodes it would be easier to do this later.)</p>
</body>
</html>
