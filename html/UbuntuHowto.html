<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
</head>
<body>
<div id="TOC">
<ul>
<li><a href="#overview">Overview</a><ul>
<li><a href="#list-of-oss-that-work-as-mn">List of OSs that work as MN</a></li>
<li><a href="#list-of-oss-that-work-as-clients">List of OSs that work as clients</a></li>
</ul></li>
<li><a href="#scope">Scope</a><ul>
<li><a href="#kvm-host">KVM host</a></li>
<li><a href="#xcat-management-node">xCAT management node</a></li>
<li><a href="#provisioned-nodes">Provisioned nodes</a></li>
<li><a href="#recommended-minimum-disk-requirements">Recommended minimum disk requirements</a></li>
<li><a href="#ubuntu-iso-media">Ubuntu ISO media</a></li>
</ul></li>
<li><a href="#how-to-read-the-instructions">How to read the instructions</a></li>
<li><a href="#instructions-build-xcat-core-and-dependency-dep-debian-packages">[Instructions] Build xCAT core and dependency (&quot;dep&quot;) debian packages</a></li>
<li><a href="#instructions-setting-up-xcat-core-and-xcat-dep-repositories">[Instructions] Setting up xcat-core and xcat-dep repositories</a></li>
<li><a href="#instructions-installing-an-ubuntu-management-node">[Instructions] Installing an Ubuntu management node</a></li>
<li><a href="#instructions-defining-and-provisioning-stateful-compute-nodes">[Instructions] Defining and provisioning stateful compute nodes</a><ul>
<li><a href="#notes">Notes</a></li>
</ul></li>
<li><a href="#known-bugs">Known bugs</a><ul>
<li><a href="#bug-listknown-issues">Bug List/Known Issues</a></li>
<li><a href="#stateless-provisioning">Stateless provisioning</a></li>
</ul></li>
<li><a href="#appendix">Appendix</a><ul>
<li><a href="#console-related-bugs">Console-related bugs</a></li>
</ul></li>
</ul>
</div>
<p><!-- START doctoc generated TOC please keep comment here to allow auto update --> <!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE --> Table of Contents</p>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#list-of-oss-that-work-as-mn">List of OSs that work as MN</a></li>
<li><a href="#list-of-oss-that-work-as-clients">List of OSs that work as clients</a></li>
<li><a href="#scope">Scope</a></li>
<li><a href="#kvm-host">KVM host</a></li>
<li><a href="#xcat-management-node">xCAT management node</a></li>
<li><a href="#provisioned-nodes">Provisioned nodes</a></li>
<li><a href="#recommended-minimum-disk-requirements">Recommended minimum disk requirements</a></li>
<li><a href="#ubuntu-iso-media">Ubuntu ISO media</a></li>
<li><a href="#how-to-read-the-instructions">How to read the instructions</a></li>
<li><a href="#instructions-build-xcat-core-and-dependency-dep-debian-packages">[Instructions] Build xCAT core and dependency (&quot;dep&quot;) debian packages</a></li>
<li><a href="#instructions-setting-up-xcat-core-and-xcat-dep-repositories">[Instructions] Setting up xcat-core and xcat-dep repositories</a></li>
<li><a href="#instructions-installing-an-ubuntu-management-node">[Instructions] Installing an Ubuntu management node</a></li>
<li><a href="#instructions-defining-and-provisioning-stateful-compute-nodes">[Instructions] Defining and provisioning stateful compute nodes</a></li>
<li><a href="#notes">Notes</a></li>
<li><a href="#known-bugs">Known bugs</a></li>
<li><a href="#bug-listknown-issues">Bug List/Known Issues</a></li>
<li><a href="#stateless-provisioning">Stateless provisioning</a></li>
<li><a href="#appendix">Appendix</a></li>
<li><a href="#console-related-bugs">Console-related bugs</a></li>
</ul>
<!-- END doctoc generated TOC please keep comment here to allow auto update -->

<p><strong>This doc is deprecated. See [Ubuntu_Quick_Start].</strong></p>
<p>Ubuntu support has been enhanced.</p>
<h2 id="overview"><a href="#TOC">Overview</a></h2>
<p>The Ubuntu support has been enhanced over that described in the <a href="DebianHowto">Ubuntu/Debian Notes</a>. Debian support may have been enhanced as a side effect, but such was not the goal, nor was it tested.</p>
<p>The enhancements encompass being able to provision KVM client and typical clients stateful and stateless compute nodes with Ubuntu 10.10, RHEL 6.0, and SLES 11 from a KVM client Ubuntu 10.10 xCAT management node.</p>
<h3 id="list-of-oss-that-work-as-mn"><a href="#TOC">List of OSs that work as MN</a></h3>
<p>The following OSs have been tested to work as MN, At this moment of time debian 7 (wheezy) and ubuntu 12.04 (precise) are unsupported, due to the incompatibility of some of the perl libraries such as Digest::SHA1</p>
<ul>
<li>rhel5</li>
<li>ubuntu 9.10</li>
<li>ubuntu 10.10</li>
</ul>
<h3 id="list-of-oss-that-work-as-clients"><a href="#TOC">List of OSs that work as clients</a></h3>
<p>The following OSs have been tested. Anything that is not listed may still work, but is untested at the moment.</p>
<ul>
<li>statefull installs of
<ul>
<li>ubuntu 9.10</li>
<li>ubuntu 10.04 LTS</li>
<li>ubuntu 10.04.1 LTS</li>
<li>ubuntu 10.10</li>
</ul></li>
<li>Stateless installs of
<ul>
<li>Ubuntu 9.10 (with tweaks)</li>
<li>Ubuntu 10.10</li>
</ul></li>
<li>copycds
<ul>
<li>ubuntu 9.10</li>
<li>ubuntu 10.04 LTS</li>
<li>ubuntu 10.04.1 LTS</li>
<li>ubuntu 10.10</li>
<li>debian 5.0.6</li>
<li>debian 5.0.6 NETINST</li>
</ul></li>
</ul>
<h2 id="scope"><a href="#TOC">Scope</a></h2>
<h3 id="kvm-host"><a href="#TOC">KVM host</a></h3>
<ul>
<li>x86_64 KVM host running RHEL 6.0 or Fedora 14</li>
</ul>
<h3 id="xcat-management-node"><a href="#TOC">xCAT management node</a></h3>
<ul>
<li>Ubuntu xCAT management node in an x86_64 KVM client</li>
</ul>
<h3 id="provisioned-nodes"><a href="#TOC">Provisioned nodes</a></h3>
<ul>
<li>KVM client nodes to be provisioned with the server edition of Ubuntu 10.10 (Maverick Meerkat) for x86_64 (aka amd64) or x86</li>
</ul>
<h3 id="recommended-minimum-disk-requirements"><a href="#TOC">Recommended minimum disk requirements</a></h3>
<ul>
<li>Ubuntu management node: 4G plus size of anticipated ISO's for provisioning</li>
<li>Ubuntu provisioned node: 2G</li>
<li>RHEL 6.0 provisioned node: 3G</li>
<li>SLES 11 provisioned node: 4G</li>
</ul>
<h3 id="ubuntu-iso-media"><a href="#TOC">Ubuntu ISO media</a></h3>
<p>Maverick Meerkat Ubuntu is available on this page:</p>
<ul>
<li>http://releases.ubuntu.com/10.10/</li>
</ul>
<p>Specifically, these links on that page:</p>
<ul>
<li>http://releases.ubuntu.com/10.10/ubuntu-10.10-server-amd64.iso</li>
<li>http://releases.ubuntu.com/10.10/ubuntu-10.10-server-i386.iso</li>
</ul>
<h2 id="how-to-read-the-instructions"><a href="#TOC">How to read the instructions</a></h2>
<p>All instructions follow a format which uses line prefix characters to indicate how to interpret the information that follows them:</p>
<pre><code>! - self-explanatory action to take
# - comments on either a command to run or content to add to a file
&amp;gt; - command to run</code></pre>
<p>All other lines are file content.</p>
<h2 id="instructions-build-xcat-core-and-dependency-dep-debian-packages"><a href="#TOC">[Instructions] Build xCAT core and dependency (&quot;dep&quot;) debian packages</a></h2>
<p>Download/Checkout the xcat-core trunk development branch:</p>
<pre><code>&amp;gt; mkdir /root/devel/xcat-core
&amp;gt; cd /root/devel/xcat-core
&amp;gt; svn co http://xcat.svn.sourceforge.net/svnroot/xcat/xcat-core/trunk
&amp;gt; mkdir /root/devel/xcat-dep
&amp;gt; cd /root/devel/xcat-dep
&amp;gt; svn co http://xcat.svn.sourceforge.net/svnroot/xcat/xcat-dep/trunk</code></pre>
<p>Install ubuntu dependencies</p>
<pre><code>&amp;gt; apt-get install debhelper devscripts quilt libsoap-lite-perl libdigest-sha1-perl libdbi-perl reprepro</code></pre>
<p>Run the build-ubunturepo script to create your local repository. The build-ubunturepo incorporates the build of the repo so that all supported OSs get a repository made, at the moment, <strong>maverick</strong>, <strong>natty</strong>, <strong>oneiric</strong> and <strong>precise</strong> are included. More will be included later, it could be that I can easily add etch, and squeeze to the list as well.</p>
<p>See the usage of the script:</p>
<pre><code>&amp;gt; ./build-ubunturepo

Eg.
xcat-core source code: /root/devel/xcat-core/trunk
xcat-dep source code: /root/devel/xcat-dep/trunk
repository: /root/repo/ubuntu

&amp;gt; ./build-ubunturepo -c /root/devel/xcat-core/trunk -d /root/devel/xcat-dep/trunk -l /root/repo/ubuntu</code></pre>
<p>This script will run &quot;build-debs-all&quot;, which will build each individual deb packages for all xcat source tools.</p>
<p>When the script is done, Run the following commands to add the repository to the apt sources</p>
<pre><code>&amp;gt; cd /root/repo/ubuntu/xcat-core
&amp;gt; ./mklocalrepo.sh
&amp;gt; cd /root/repo/ubuntu/xcat-dep
&amp;gt; ./mklocalrepo.sh</code></pre>
<h2 id="instructions-setting-up-xcat-core-and-xcat-dep-repositories"><a href="#TOC">[Instructions] Setting up xcat-core and xcat-dep repositories</a></h2>
<pre><code># for each *.deb file built under xcat-core
&amp;gt; reprepro -b &amp;lt;XCAT-CORE-REPO-TARGET-PATH&amp;gt; includedeb maverick &amp;lt;PACKAGE&amp;gt;.deb
&amp;gt; cp -f &amp;lt;XCAT-CORE-PACKAGE-SOURCE-PATH&amp;gt;/&amp;lt;PACKAGE&amp;gt;.deb &amp;lt;XCAT-CORE-REPO-TARGET-PATH&amp;gt;/

# for each *.deb file built under xcat-dep
&amp;gt; reprepro -b &amp;lt;XCAT-DEP-REPO-TARGET-PATH&amp;gt; includedeb maverick &amp;lt;PACKAGE&amp;gt;.deb
&amp;gt; cp -f &amp;lt;XCAT-DEP-PACKAGE-SOURCE-PATH&amp;gt;/&amp;lt;PACKAGE&amp;gt;.deb &amp;lt;XCAT-DEP-REPO-TARGET-PATH&amp;gt;/</code></pre>
<p>NOTE: a reprepro man page (not necessarily definitive): http://mirrorer.alioth.debian.org/reprepro.1.html</p>
<h2 id="instructions-installing-an-ubuntu-management-node"><a href="#TOC">[Instructions] Installing an Ubuntu management node</a></h2>
<p><strong>NOTE: All actions are performed on the management node.</strong></p>
<pre><code>! login to the administrative account (i.e. name specified when you installed Ubuntu)

# create a root login
&amp;gt; sudo passwd root

! logout and login as root

# put the following in /etc/apt/sources.list.d/xcat-repo.list

deb TODO-HTTP-URL-TOP/xcat-core/ maverick main
deb TODO-HTTP-URL-TOP/xcat-dep/ maverick main

# update apt&#39;s view of repositories
&amp;gt; apt-get update

# install xcat (answer yes to all questions)
&amp;gt; apt-get install xcat

! logout and login as root so xcat utilities are in root&#39;s PATH

# workaround to create /install/postscripts/hostkeys
&amp;gt; xcatconfig -s

# put the following in /etc/xinetd.d/tftpd
service tftp
{
    protocol        = udp 
    port            = 69
    socket_type     = dgram
    wait            = yes 
    user            = nobody
    server          = /usr/sbin/in.tftpd
    server_args     = /tftpboot
    disable         = no
}

# start tftp
&amp;gt; /etc/init.d/xinetd restart

# configure vsftpd by altering /etc/vsftpd.conf so that, in addition
# to other things, it contains these lines (search on the keys listed
# so see if they already exist and their values change, otherwise add
# the lines)
anonymous_enable=YES
anon_root=/install

# restart vsftpd
&amp;gt; service vsftpd restart

# restart apache
&amp;gt; /etc/init.d/apache2 restart

# ALL FOLLOWING STEPS ARE OPTIONAL (configuration so the &#39;rinstall&#39; command works)

# install openssh-server on the management node
&amp;gt; apt-get install openssh-server

# [management node] give kvm host the management node&#39;s public ssh key
&amp;gt; ssh-copy-id root@KVM_HOST_IP_ADDRESS</code></pre>
<h2 id="instructions-defining-and-provisioning-stateful-compute-nodes"><a href="#TOC">[Instructions] Defining and provisioning stateful compute nodes</a></h2>
<h3 id="notes"><a href="#TOC">Notes</a></h3>
<ul>
<li>Tokens in UPPERCASE are variables to be replaced. Those tokens not explained are considered self-explanatory.</li>
<li>[kvm host] and [management node] indicate where actions should be performed.</li>
<li>The instructions assume a previously created kvm dhcp-less private network and a kvm guest xcat management node in that network.</li>
<li><p>Opening a VNC graphics console through Virtual Machine Manager is discouraged because of two bugs. &quot;virsh console VM_NAME&quot; should be used instead. See - &quot;APPENDIX: CONSOLE-RELATED BUGS&quot; below for details. Also, &quot;virsh console VM_NAME&quot; is best run in a plain terminal window (as opposed to, say, a gnu screen terminal), and must be run again every time a node is rebooted.</p>
<h1><a href="#TOC">[management node] remove any existing node definition</a></h1>
<p>&gt; rmdef NODE_SHORT_HOSTNAME</p>
<h1><a href="#TOC">[management node] tell xcat root's password</a></h1>
<p>&gt; chtab key=system passwd.username=root passwd.password=ROOT_PASSWORD</p>
<p>! [management node] get ubuntu iso to the management node</p>
<h1><a href="#TOC">[management node] bring the iso under xcat's control</a></h1>
<p>&gt; copycds PATH_TO_ISO</p>
<h1><a href="#TOC">[OPTIONAL] [management node] recover ISO disk space (xcat now has its own copy)</a></h1>
<p>&gt; rm -f PATH_TO_ISO</p>
<p>! [kvm host] Create a new kvm guest node named NODE_SHORT_HOSTNAME in the previously ! created network, whose boot order is network,hd. If the node automatically starts, ! force it off. Boot order can be adjusted through a Virtual Machine Manager console ! to the new node via View-&gt;Details-&gt;Boot Options -OR- (preferred) via ! &quot;virsh edit NODE_SHORT_HOSTNAME&quot;, and being sure the &lt;os&gt;&lt;/os&gt; stanza contains ! boot devices ordered as follows: ! ! &lt;boot dev='network'/&gt; ! &lt;boot dev='hd'/&gt;</p>
<p>! [kvm host] discover the new node's NODE_NETWORK_INTERFACE_MAC_ADDRESS ! (examine output of &quot;virsh dumpxml NODE_SHORT_HOSTNAME | grep &quot;mac address&quot;&quot;)</p>
<p>! [kvm host] discover the new node's MEMORY ! (examine output of &quot;virsh dumpxml NODE_SHORT_HOSTNAME | grep &quot;currentMemory&quot;&quot;) ! (value should be in megabytes.. e.g. if the above shows '524288', use '512' for MEMORY)</p>
<p>! [kvm host] discover the new node's VM_CPUS ! (examine output of &quot;virsh dumpxml NODE_SHORT_HOSTNAME | grep &quot;vcpu&quot;&quot;)</p>
<p>! [kvm host] discover the BRIDGE_NIC_ASSOCIATED_WITH_PRIVATE_NETWORK ! (examine output of &quot;virsh net-dumpxml NETWORK_NAME | grep &quot;bridge name&quot;&quot;) ! (name will look like 'virbr*')</p>
<h1><a href="#TOC">[management node] define the node to xcat</a></h1>
<h1><a href="#TOC">DISTRO is the name of a distro subdirectory under /install</a></h1>
<h1><a href="#TOC">ARCH is the name of a architecture subdirectory under /install/DISTRO</a></h1>
<h1><a href="#TOC">NODE_IP_ADDRESS is the next available ip address after the management node's</a></h1>
<h1><a href="#TOC">(i.e. if management node's is 192.168.200.2, then choose 192.168.200.3)</a></h1>
<p>nodeadd NODE_SHORT_HOSTNAME groups=all,system hosts.ip=NODE_IP_ADDRESS mac.mac=NODE_NETWORK_INTERFACE_MAC_ADDRESS nodehm.mgt=kvm nodehm.power=kvm nodehm.serialport=0 nodehm.serialspeed=115200 noderes.netboot=pxe noderes.tftpserver=MANAGEMENT_NODE_IP_ADDRESS noderes.nfsserver=MANAGEMENT_NODE_IP_ADDRESS noderes.monserver=MANAGEMENT_NODE_IP_ADDRESS noderes.installnic=eth0 noderes.primarynic=eth0 noderes.discoverynics=eth0 noderes.xcatmaster=MANAGEMENT_NODE_IP_ADDRESS nodetype.os=DISTRO nodetype.arch=ARCH nodetype.profile=compute nodetype.provmethod=install nodetype.nodetype=vm vm.cpus=VM_CPUS vm.host=KVM_HOST_IP_ADDRESS vm.memory=MEMORY vm.nics=BRIDGE_NIC_ASSOCIATED_WITH_PRIVATE_NETWORK vm.storage=/var/lib/libvirt/images</p>
<h1><a href="#TOC">[management node] update /etc/hosts from xcat's view of nodes</a></h1>
<p>&gt; makehosts</p>
<h1><a href="#TOC">[management node] update dhcp with xcat's view of nodes</a></h1>
<p>&gt; makedhcp -n</p>
<h1><a href="#TOC">[management node] restart dhcp</a></h1>
<p>&gt; /etc/init.d/dhcp3-server restart</p>
<h1><a href="#TOC">[management node] prepare xcat to provivision the node</a></h1>
<p>nodeset NODE_SHORT_HOSTNAME install</p>
<p>! [kvm host] force the provisionable node off, close any graphical console session ! to it (see: &quot;APPENDIX: CONSOLE-RELATED BUGS&quot; for why)</p>
<h1><a href="#TOC">[kvm host] start the provisionable node</a></h1>
<p>&gt; virsh start NODE_SHORT_HOSTNAME</p>
<h1><a href="#TOC">The above should lead to the provisionable node getting its ip address from the</a></h1>
<h1><a href="#TOC">management node via dhcp, and being provisioned.</a></h1>
<h1><a href="#TOC">[OPTIONAL] [kvm host] watch provisioning progress (NOTE: see</a></h1>
<h1><a href="#TOC">&quot;APPENDIX: CONSOLE-RELATED BUGS&quot; below for details)</a></h1>
<p>&gt; virsh console NODE_SHORT_HOSTNAME</p>
<h1><a href="#TOC">ALL FOLLOWING STEPS ARE OPTIONAL</a></h1>
<h1><a href="#TOC">After the initial provisioning, one can reprovision with the xcat rinstall command</a></h1>
<h1><a href="#TOC">[management node] rinstall the provisionable node</a></h1>
<p>&gt; rinstall NODE_SHORT_HOSTNAME</p>
<h1><a href="#TOC">[kvm host] watch provisioning progress (NOTE: see</a></h1>
<h1><a href="#TOC">&quot;APPENDIX: CONSOLE-RELATED BUGS&quot; below for details)</a></h1>
<p>&gt; virsh console NODE_SHORT_HOSTNAME</p></li>
</ul>
<h2 id="known-bugs"><a href="#TOC">Known bugs</a></h2>
<h3 id="bug-listknown-issues"><a href="#TOC">Bug List/Known Issues</a></h3>
<ul>
<li>Package signing for a release</li>
<li>rpower fails during on|boot|reset on Ubuntu Server 10.10 (KVM guest on rhel6)</li>
<li>soft failure: copycds ubuntu-10.10-server-amd64.iso</li>
<li>Console switch during rinstall operation</li>
<li>Passwordless SSH</li>
<li>VNC password set after CN deploy (using Ubuntu Server image)</li>
<li>rscan doesn't work for kvm nodes</li>
<li>xCAT-UI does not allow login</li>
<li>makedns failing (<strong>add bind user for ubuntu specific, submitted for review</strong>)(11/06/2012)</li>
<li>'rbootseq' is not supported when ivm is the HCP</li>
<li>xcat &quot;makedns&quot; command broke for ubuntu (<strong>add bind user for ubuntu specific, submitted for review</strong>)</li>
<li>/etc/resolv.conf is overwritten on managed nodes whose IP is configured by DHCP ** Just make sure that the interfaces are not dhcp **</li>
<li>Moving mypostscript.post from /tmp to /var/tmp for other distros (<strong>This has already been implemented xCAT team</strong>)</li>
<li>PostScript support for ubuntu
<ul>
<li>xcatserver</li>
<li>xcatdsklspost</li>
<li>setbootfromdisk</li>
<li>setbootfromnet</li>
<li>setupscratch postscript</li>
<li>otherpkgs</li>
<li>syslog</li>
</ul></li>
<li>service.tmpl not defined</li>
<li>/install not visible through apache after xcat install</li>
<li>makeknownhosts.pm doesn't support Ubuntu's known_hosts file format</li>
<li>packaging of
<ul>
<li>nbroot</li>
<li>nbkernel</li>
<li>yaboot-xcat</li>
</ul></li>
<li>Add support for stateless
<ul>
<li>Old Method</li>
<li>This has now, on some part, been implemented; this now requires extensive testing</li>
<li>This is not supported for maverick, but has been tested on natty as a client.</li>
<li>Dracut method</li>
<li>This is not supported in ubuntu be default, as dracut deb is not available by default</li>
<li>Provision for this although has been made</li>
<li>may require dracut to be part of the xcat-dep package.</li>
</ul></li>
<li>Add support for statelite</li>
<li>Testing in several VM architecture
<ul>
<li>KVM (as per this HowTo</li>
<li>Virtual Box</li>
<li>Xen</li>
<li>VMware</li>
</ul></li>
<li>debootstrap in el5 will not work with lucid (10.04 and 10.04.1), but works on el6</li>
</ul>
<h3 id="stateless-provisioning"><a href="#TOC">Stateless provisioning</a></h3>
<p>The stateless provisioning has changed significantly to when first started. The initial genimage that was posted was a copy of the genimaged from the redhat folders, and not much was added. The current release as of Apr 30 in trunk, we have a new genimage that will work which requires busybox-static in ubuntu 10.10</p>
<ul>
<li>Run copycds &lt;iso image&gt;</li>
<li>genimage -o ubuntu10.10 -p compute -i eth0 -n e1000,pcnet32</li>
<li>packimage -p compute -a x86_64 -o ubuntu10.10
<ul>
<li>Make sure that the MAC address is in the table, and is able to grab the relevant dhcp information of the server</li>
</ul></li>
<li>nodech NODE_SHORT_HOSTNAME nodetype.os=ubuntu10.10 nodetype.provmethod=netboot</li>
<li>Reboot the client.</li>
</ul>
<h2 id="appendix"><a href="#TOC">Appendix</a></h2>
<h3 id="console-related-bugs"><a href="#TOC">Console-related bugs</a></h3>
<p>Both &quot;nodeset&quot; and &quot;rinstall&quot; result in a PXE boot configuration file (per node) which specifies &quot;console=&quot; more than once in the kernel parameters list. This somehow hangs the display of the kernel boot when viewed in a VNC graphics console opened through Virtual Machine Manager. Therefore, one should avoid using that kind of console, and instead watch provisioning progress via the following on the KVM host:</p>
<pre><code>&amp;gt; virsh console VM_NAME</code></pre>
<p>(exit the console via Ctrl-])</p>
<p>The VNC graphics console can be used as usual after provisioning is complete.</p>
<p>HOWEVER, an xcat bug sets an encrypted, unknown password on the VNC session. In order to view the VNC graphics console, perform just ONE of the following:</p>
<ul>
<li>Method 1
<ul>
<li>virsh edit VM_NAME</li>
<li>find the xml the line beginning with &quot;&lt;graphics type='vnc'&quot;</li>
<li>change the VALUE of passwd='VALUE' on that line</li>
<li>exit normally</li>
</ul></li>
<li>Method 2
<ul>
<li>enter the VNC console for VM_NAME</li>
<li>when prompted for a password (with a &quot;Login&quot; button), go into: View-&gt;Details-&gt;Display VNC-&gt;CHANGE PASSWORD FIELD-&gt;click Apply</li>
<li>ignore the popup about the value possibly not taking effect unto reboot</li>
<li>View-&gt;Console</li>
</ul></li>
</ul>
<p>THEN enter the password you've supplied, and click the &quot;Login&quot; button</p>
</body>
</html>
