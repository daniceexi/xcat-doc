<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
</head>
<body>
<p><a href="Howto_Warning">Howto_Warning</a></p>
<p>This is a step by step for install xCAT2 and manage IBM Blade Center with examples of related tables for the configuration.</p>
<p><strong><em>Here is the Hardware configuration in the environment:</em></strong></p>
<p><strong>1 x IBM BladeCenter™ H Chassis</strong></p>
<ul>
<li>2 x IBM BladeCenter™ Advanced Management Module</li>
<li>2 x Cisco Systems GbE Switch Module for IBM BladeCenter</li>
<li>1 x Cisco Systems 4Gb 20 port Fibre Channel Switch Module for IBM BladeCenter</li>
</ul>
<p>7 <strong>x IBM HS21 Blade</strong></p>
<p>7 <strong>x IBM HS22 Blade</strong></p>
<p><strong>1 x IBM x3550</strong> <strong>xServer</strong></p>
<p><strong>1 x IBM DS4700 Express Model 70</strong></p>
<p><strong>1 x 2950 Catalyst Cisco Lan Switch</strong></p>
<p><strong>Here is the Network Vlan configuration in the environment:</strong></p>
<ul>
<li>Public Vlan: 192.168.80.x</li>
<li>xCAT Vlan: 172.1.1.x</li>
<li>Management Vlan: 192.168.70.x (BC AMM, BC Lan Switches, BC San Switches, RSA, Storage MM ...)</li>
</ul>
<p>[[img src=Xcat-labv1.jpg]]</p>
<p><strong>Here is the Operating System in the environment:</strong></p>
<ul>
<li>xCAT2 server - RHEL5 U2 x86_64</li>
<li>HS21 servers - RHEL5 U2 x86_64</li>
<li>HS22 servers - RHEL5 U3 x86_64</li>
</ul>
<p><em><strong>Install and Setup of xCAT2 server:</strong></em></p>
<ol style="list-style-type: decimal">
<li><p>mkdir -p /iso/1</p></li>
<li><p>cp /tmp/rhel-5.2-server-x86_64-dvd.iso /iso/</p></li>
<li><p>mount -o loop /iso/rhel-5.2-server-x86_64-dvd.iso /iso/1</p></li>
<li><p>mkdir /root/xcat2</p></li>
<li><p>cd /root/xcat2/</p></li>
<li><p>cp /tmp/xcat-core-2.1.1.tar.bz2 .</p></li>
<li><p>cp /tmp/xcat-dep-2.2-snap200902201712.tar.bz2 .</p></li>
<li><p>cd /root/xcat2/</p></li>
<li><p>tar -jxvf xcat-dep-2.2-snap200902201712.tar.bz2</p></li>
<li><p>tar -jxvf xcat-core-2.1.1.tar.bz2</p></li>
</ol>
<p>Verify that the following rpms installed - if not install them from the Redhat DVD:<br />dhcpd, expect, httpd, nfs-utils, vsftpd, perl-XML-Parser, OpenIPMI</p>
<p>Remove the following rpms if they are installed:<br />tftp-server, OpenIPMI-tools<br /><strong><em>Example:</em></strong></p>
<ol style="list-style-type: decimal">
<li>rpm -e tftp-server-0.42-3.1</li>
</ol>
<p>error: Failed dependencies:<br />tftp-server &gt;= 0.29-3 is needed by (installed) system-config-netboot-cmd-0.1.45.1-1.el5.noarch</p>
<ol style="list-style-type: decimal">
<li>rpm -e --nodeps tftp-server-0.42-3.1</li>
<li>rpm -e OpenIPMI-tools-2.0.6-6.el5</li>
<li>cd xcat-dep/rh5/x86_64/</li>
<li>./mklocalrepo.sh</li>
</ol>
<p>root/xcat2/xcat-dep/rh5/x86_64</p>
<ol style="list-style-type: decimal">
<li>cd ../../../xcat-core</li>
<li>./mklocalrepo.sh</li>
</ol>
<p>/root/xcat2/xcat-core</p>
<p>You will need to copy the dependencies rpms from the Redhat DVD to the xcat-dep directory (in this case to - /root/xcat2/xcat-dep/rh5/x86_64)<br />perl-Net-SSLeay, perl-XML-Simple, perl-Crypt-SSLeay, net-snmp-perl, ksh, perl-IO-Socket-INET6, syslinux, perl-Net-Telnet, createrepo</p>
<ol style="list-style-type: decimal">
<li>cd /root/xcat2/xcat-dep/rh5/x86_64</li>
</ol>
<p>For each rpm package run the following command:</p>
<ol style="list-style-type: decimal">
<li>cp /iso/1/Server/&lt;rpm&gt; .</li>
</ol>
<p>Install the createrepo rpm:</p>
<ol style="list-style-type: decimal">
<li>rpm -ihv /iso/1/Server/createrepo-0.4.11-3.el5.noarch.rpm</li>
<li>createrepo .</li>
<li><p>rpm --import /iso/1/RPM-GPG-KEY-redhat-release</p>
<p>To be continue this week...</p></li>
</ol>
</body>
</html>
