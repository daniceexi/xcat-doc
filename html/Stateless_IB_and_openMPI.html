<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
</head>
<body>
<p>Something that we need to be aware of when we install any infiniband network and run MPI jobs using openMPI, it will require some part of the memory for the Shared Memory Process (SMP). If you are using the openib interface with openMPI then you need to at least have 100m of /tmp available using, i.e. adding the size of /tmp explicitly in fstab as shown below</p>
<pre><code>none            /tmp     tmpfs  defaults,size=100m 0</code></pre>
<p>You could instead take this line totally and the /tmp would automatically be in your / filesystem</p>
<p>With regards to Infinipath (i.e. PSM interface) openMPI uses /dev/shm folder instead and you definitely need to add entries into fstab</p>
<pre><code>none            /dev/shm     tmpfs  defaults,size=100m 0 2</code></pre>
<p>One thing to take care of with infinipath is that the temporary flles created in /dev/shm are not automatically removed, so whichever resource manager you are using it should cleanup after the job finishes (i.e. using epilogue/prologue scripts)</p>
</body>
</html>
