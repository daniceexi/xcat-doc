<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
</head>
<body>
<div id="TOC">
<ul>
<li><a href="#python">Python</a></li>
<li><a href="#shell">Shell</a></li>
</ul>
</div>
<p><!-- START doctoc generated TOC please keep comment here to allow auto update --> <!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE --> Table of Contents</p>
<ul>
<li><a href="#python">Python</a></li>
<li><a href="#shell">Shell</a></li>
</ul>
<!-- END doctoc generated TOC please keep comment here to allow auto update -->

<p><a href="Design_Warning">Design_Warning</a></p>
<p>Console support is provided via console plugins. There are two types of plugins</p>
<h1 id="python"><a href="#TOC">Python</a></h1>
<p>Python plugins may provide both console and other capabilities. confluent.interface.console defines the base classes for the Console handler and non-text events for a python plugin to emit. If a plugin is asked to 'create' a '_console/session' resource for a node, it should return an instance of a subclass of Console. The ipmi.py plugin is an example of a plugin that supports multiple things including console objects. It is an example where resource usage is reduced (no forks, pooled filehandles, shared sessions between console and non-console directives) that is possible with a python plugin that is infeasible with a shell plugin.</p>
<h1 id="shell"><a href="#TOC">Shell</a></h1>
<p>Shell plugins are a quick way to implement a backend without the full capabilities of a python plugin and worse performance. CONFLUENT_NODE shall be passed in as an environment variable. A syntax shall be defined where a shell plugin can have a comment line requesting other configuration data to be pushed in as environment variables. Disconnect is only possible through exiting. Receiving break currently is not defined in structure, but may provide a syntax to tell confluent how to send a break to a particular plugin. Rapidly supporting current conserver backends is as easy as:</p>
<pre><code>#!/bin/bash
exec /opt/xcat/share/xcat/cons/kvm $CONFLUENT_NODE</code></pre>
</body>
</html>
