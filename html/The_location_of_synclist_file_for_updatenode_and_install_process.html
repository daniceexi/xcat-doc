<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
</head>
<body>
<p>For Linux and AIX nodes, xCAT uses different approach to figure out the location of the common synclist file, the method for each platform will be introduced respectively.</p>
<p><strong>The sync file function is not supported for statelite installations.</strong> For statelite installations to sync files you should use the read-only option for files/directories listed in litefile table with source location specified in the litetree table. For more information on using setting up Statelite installs, see XCAT_Linux_Statelite .</p>
<p><strong>[Linux]</strong></p>
<p>In the installation process or updatenode process, xCAT needs to figure out the location of the synclist file automatically, so the synclist should be put into the specified place with the proper name.</p>
<p><strong>If the provisioning method for the node is an osimage name</strong>, then the path to the synclist will be read from the osimage definition synclists attribute. You can display this information by running the following command, supplying your osimage name.</p>
<pre><code>lsdef -t osimage -l rhels6-x86_64-netboot-compute
Object name: rhels6-x86_64-netboot-compute
   exlist=/opt/xcat/share/xcat/netboot/rhels6/compute.exlist
   imagetype=linux
   osarch=x86_64
   osname=Linux
   osvers=rhels6
   otherpkgdir=/install/post/otherpkgs/rhels6/x86_64
   pkgdir=/install/rhels6/x86_64
   pkglist=/opt/xcat/share/xcat/netboot/rhels6/compute.pkglist
   profile=compute
   provmethod=netboot
   rootimgdir=/install/netboot/rhels6/x86_64/compute
   **synclists=/install/custom/netboot/compute.synclist**</code></pre>
<p>You can set the synclist path using the following command:</p>
<pre><code>chdef -t osimage -o  rhels6-x86_64-netboot-compute synclists=&quot;/install/custom/netboot
/compute.synclist&quot;</code></pre>
<p><strong>If the provisioning method for the node is install,or netboot</strong> then the path to the synclist should be of the following format:</p>
<pre><code>/install/custom/&amp;lt;inst_type&amp;gt;/&amp;lt;distro&amp;gt;/&amp;lt;profile&amp;gt;.&amp;lt;os&amp;gt;.&amp;lt;arch&amp;gt;.synclist
&amp;lt;inst_type&amp;gt;: &quot;install&quot;, &quot;netboot&quot;
&amp;lt;distro&amp;gt;: &quot;rh&quot;, &quot;centos&quot;, &quot;fedora&quot;, &quot;sles&quot;
&amp;lt;profile&amp;gt;,&amp;lt;os&amp;gt; and &amp;lt;arch&amp;gt; are what you set for the node</code></pre>
<p>For example:</p>
<p>The location of synclist file for the diskfull installation of sles11 with 'compute' as the profile</p>
<pre><code>/install/custom/install/sles/compute.sles11.synclist</code></pre>
<p>The location of synclist file for the diskless netboot of sles11 with 'service' as the profile</p>
<pre><code>/install/custom/netboot/sles/service.sles11.synclist</code></pre>
<p><strong>[AIX]</strong></p>
<p>For the AIX platform, the common synclist file is created base on the definition of nim image. The nim images are defined in the 'osimage' table, and the attribute of osimage.synclists is used to identify the location of the common synclist for the nodes which use this nim image to install/netboot the system.</p>
<p>For example:</p>
<p>If you want to sync files to the node 'node1' which uses the '61cosi' nim image as its profile (The profile attribute is set the osimage for an AIX node), you need to do following things to set the synclist.</p>
<p>Create a synclist file in any directory. For example: /tmp/61cosi.AIX.synclist Set the full path of the synclist file in the attribute osimage.synclists for the nim image '61cosi' in the osimage table.</p>
<pre><code>chdef -t osimage -o 61cosi synclists=/tmp/61cosi.AIX.synclist</code></pre>
</body>
</html>
